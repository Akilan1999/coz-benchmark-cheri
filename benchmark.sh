# Parameters for pmcstat
# SW_INCR
# 	L1I_CACHE_REFILL
# 	L1I_TLB_REFILL
# 	L1D_CACHE_REFILL
# 	L1D_CACHE
# 	L1D_TLB_REFILL
# 	INST_RETIRED
# 	EXC_TAKEN
# 	EXC_RETURN
# 	CID_WRITE_RETIRED
# 	BR_MIS_PRED
# 	CPU_CYCLES
# 	BR_PRED
# 	MEM_ACCESS
# 	L1I_CACHE
# 	L1D_CACHE_WB
# 	L2D_CACHE
# 	L2D_CACHE_REFILL
# 	L2D_CACHE_WB
# 	BUS_ACCESS
# 	MEMORY_ERROR
# 	BUS_CYCLES
# 	CHAIN
# 	BUS_ACCESS_LD
# 	BUS_ACCESS_ST
# 	BR_INDIRECT_SPEC
# 	EXC_IRQ
# 	EXC_FIQ
# 	INST_SPEC
# 	TTBR_WRITE_RETIRED
# 	L1D_CACHE_LD
# 	L1D_CACHE_ST
# 	L1D_CACHE_REFILL_LD
# 	L1D_CACHE_REFILL_ST
# 	L1D_CACHE_WB_VICTIM
# 	L1D_CACHE_WB_CLEAN
# 	L1D_CACHE_INVAL
# 	L1D_TLB_REFILL_LD
# 	L1D_TLB_REFILL_ST
# 	L2D_CACHE_LD
# 	L2D_CACHE_ST
# 	L2D_CACHE_REFILL_LD
# 	L2D_CACHE_REFILL_ST
# 	L2D_CACHE_WB_VICTIM
# 	L2D_CACHE_WB_CLEAN
# 	L2D_CACHE_INVAL
# 	MEM_ACCESS_LD
# 	MEM_ACCESS_ST
# 	UNALIGNED_LD_SPEC
# 	UNALIGNED_ST_SPEC
# 	UNALIGNED_LDST_SPEC
# 	LDREX_SPEC
# 	STREX_PASS_SPEC
# 	STREX_FAIL_SPEC
# 	LD_SPEC
# 	ST_SPEC
# 	LDST_SPEC
# 	DP_SPEC
# 	ASE_SPEC
# 	VFP_SPEC
# 	PC_WRITE_SPEC
# 	CRYPTO_SPEC
# 	BR_IMMED_SPEC
# 	BR_RETURN_SPEC
# 	ISB_SPEC
# 	DSB_SPEC
# 	DMB_SPEC
# 	EXC_UNDEF
# 	EXC_SVC
# 	EXC_PABORT
# 	EXC_DABORT
# 	EXC_SMC
# 	EXC_HVC
# 	EXC_TRAP_PABORT
# 	EXC_TRAP_DABORT
# 	EXC_TRAP_OTHER
# 	EXC_TRAP_IRQ
# 	EXC_TRAP_FIQ
# 	RC_LD_SPEC
# 	RC_ST_SPEC
# 	L2D_CACHE_ALLOCATE
# 	BR_RETIRED
# 	BR_MIS_PRED_RETIRED
# 	STALL_FRONTEND
# 	STALL_BACKEND
# 	L1D_TLB
# 	L1I_TLB
# 	L3D_CACHE_ALLOCATE
# 	L3D_CACHE_REFILL
# 	L3D_CACHE
# 	L2D_TLB_REFILL
# 	L2D_TLB
# 	REMOTE_ACCESS
# 	DTLB_WALK
# 	ITLB_WALK
# 	LL_CACHE_RD
# 	LL_CACHE_MISS_RD
# 	L1D_CACHE_REFILL_INNER
# 	L1D_CACHE_REFILL_OUTER
# 	L1D_TLB_RD
# 	L1D_TLB_WR
# 	L2D_TLB_REFILL_RD
# 	L2D_TLB_REFILL_WR
# 	L2D_TLB_RD
# 	L2D_TLB_WR
# 	STREX_SPEC
# 	L3_CACHE_RD
# 	BR_MIS_PRED_RS
# 	BR_MIS_PRED_C64
# 	BR_MIS_PRED_SYS
# 	PCCRF_FULL
# 	EXECUTIVE_ENTRY
# 	EXECUTIVE_EXIT
# 	INST_SPEC_A64
# 	INST_SPEC_C64
# 	CID_EL0_WRITE_RETIRED
# 	DDC_WRITE_RETIRED
# 	DDC_READ_SPEC
# 	INST_SPEC_CVTD
# 	INST_SPEC_SCBNDS_NONEXACT
# 	CDBM_SET_SC
# 	CAP_LD_SPEC
# 	CAP_ST_SPEC
# 	CAP_ALT_LD_SPEC
# 	CAP_ALT_ST_SPEC
# 	ALT_LD_SPEC
# 	ALT_ST_SPEC
# 	LDCT_SPEC
# 	LDCT_NO_CAP_SPEC
# 	DC_ZVA_RET
# 	LDCT_REFILL
# 	STCT_REFILL
# 	L1D_CACHE_RD_CTAG
# 	L1D_CACHE_WR_CTAG
# 	L1D_CACHE_WB_CTAG
# 	L1D_CACHE_REFILL_RD_CTAG
# 	L1D_CACHE_REFILL_WR_CTAG
# 	L1D_CACHE_REFILL_INNER_CTAG
# 	L1D_CACHE_REFILL_OUTER_CTAG
# 	L1D_CACHE_WB_VICTIM_CTAG
# 	L1D_CACHE_WB_CLEAN_CTAG
# 	L2D_CACHE_RD_CTAG
# 	L2D_CACHE_WR_CTAG
# 	L2D_CACHE_REFILL_RD_CTAG
# 	L2D_CACHE_WB_VICTIM_CTAG
# 	L2D_CACHE_WB_CLEAN_CTAG
# 	L2D_CACHE_INVAL_CTAG
# 	BUS_ACCESS_RD_CTAG
# 	BUS_ACCESS_WR_CTAG
# 	CNT_ST_ZERO_BYTE
# 	CNT_ST_ZERO_16_BYTES
# 	MEM_ACCESS_RD_CTAG
# 	MEM_ACCESS_WR_CTAG
# 	CAP_MEM_ACCESS_RD
# 	CAP_MEM_ACCESS_WR
# 	INST_SPEC_RESTRICTED
# 	LD_CAP_PERM_CLR_CTAG

mkdir results
for f in *.out; do
  # Cache count L1D
  pmcstat -d -w 10 -p L1D_CACHE ./"$f" > results/"$f".L1DCache
 # Cache count L2D
  pmcstat -d -w 10 -p L2D_CACHE ./"$f" > results/"$f".L2DCache
  # Wall Clock run time
  time ./"$f" > results/"$f".time
  # CPU Cycles
  pmcstat -d -w 10 -p CPU_CYCLES ./"$f" > results/"$f".CPU_CYCLES
  # Capability memory access read
  pmcstat -d -w 10 -p CAP_MEM_ACCESS_RD ./"$f" > results/"$f".CAP_MEM_ACCESS_RD
done